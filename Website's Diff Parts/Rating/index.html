<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="style.css">
	
	</head>
	<body>
		<svg class="fb-emotes-svg" style="display: none;">
			<symbol id="fb-emote-terrible" data-emote="terrible" viewBox="0 0 100 100">
			  <path class="fb-emote__eye fb-emote__eye--left" d="M32,25 l10,10 a10,10 0 0,1 -20,0 a10,10 0 0,1 10,-10"/>
			  <path class="fb-emote__eye fb-emote__eye--right" d="M58,35 l10,-10 a10,10 0 0,1 0,20 a10,10 0 0,1 -10,-10"/>
			  <path class="fb-emote__smile" d="M30,68 q20,-13 40,0 M30,68 q20,-13 40,0"/>
			</symbol>
			<symbol id="fb-emote-bad" data-emote="bad" viewBox="0 0 100 100">
			  <path class="fb-emote__eye fb-emote__eye--left" d="M22,35 l10,-10 a10,10 0 0,1 0,20 a10,10 0 0,1 -10,-10"/>
			  <path class="fb-emote__eye fb-emote__eye--right" d="M68,25 l10,10 a10,10 0 0,1 -20,0 a10,10 0 0,1 10,-10"/>
			  <path class="fb-emote__smile" d="M30,68 q20,-10 40,0 M30,68 q20,-10 40,0"/>
			</symbol>
			<symbol id="fb-emote-okay" viewBox="0 0 100 100">
			  <path class="fb-emote__eye fb-emote__eye--left" d="M32,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__eye fb-emote__eye--right" d="M68,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__smile" d="M35,73 q20,-4 35,-8 M35,73 q20,-4 35,-8"/>
			</symbol>
			<symbol id="fb-emote-good" viewBox="0 0 100 100">
			  <path class="fb-emote__eye fb-emote__eye--left" d="M32,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__eye fb-emote__eye--right" d="M68,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__smile" d="M30,68 q20,10 40,0 M30,68 q20,10 40,0"/>
			</symbol>
			<symbol id="fb-emote-great" viewBox="0 0 100 100">
			  <path class="fb-emote__eye fb-emote__eye--left" d="M32,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__eye fb-emote__eye--right" d="M68,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
			  <path class="fb-emote__smile" d="M30,68 q20,15 40,0 M30,68 q20,0 40,0"/>
			</symbol>
		  </svg>
		  
		  <div class="fb-cont">
			<div class="fb-heading">How was the help you received?</div>
			<div class="fb-cont__inner">
			  <div class="fb-emote" data-emote="terrible">
				<svg><use xlink:href="#fb-emote-terrible"/></svg>
				<p class="fb-emote__caption">Terrible</p>
			  </div>
			  <div class="fb-emote" data-emote="bad">
				<svg><use xlink:href="#fb-emote-bad"/></svg>
				<p class="fb-emote__caption">Bad</p>
			  </div>
			  <div class="fb-emote s--active" data-emote="okay">
				<svg><use xlink:href="#fb-emote-okay"/></svg>
				<p class="fb-emote__caption">Okay</p>
			  </div>
			  <div class="fb-emote" data-emote="good">
				<svg><use xlink:href="#fb-emote-good"/></svg>
				<p class="fb-emote__caption">Good</p>
			  </div>
			  <div class="fb-emote" data-emote="great">
				<svg><use xlink:href="#fb-emote-great"/></svg>
				<p class="fb-emote__caption">Great</p>
			  </div>
			  <div class="fb-cont__drag-cont">
				<div class="fb-active-emote">
				  <svg viewBox="0 0 100 100">
					<path class="fb-active-emote__eye fb-active-emote__eye--left" d="M32,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
					<path class="fb-active-emote__eye fb-active-emote__eye--right" d="M68,25 a10,10 0 0,1 0,20 a10,10 0 0,1 0,-20"/>
					<path class="fb-active-emote__smile" d="M35,73 q20,-4 35,-8 M35,73 q20,-4 35,-8"/>
				  </svg>
				</div>
			  </div>
			</div>
		  </div>
		  
		  <a href="https://dribbble.com/shots/2790473-Feedback" target="_blank" class="icon-link">
			<img src="http://icons.iconarchive.com/icons/uiconstock/socialmedia/256/Dribbble-icon.png">
		  </a>
		  <a href="https://twitter.com/NikolayTalanov" target="_blank" class="icon-link icon-link--twitter">
			<img src="https://cdn1.iconfinder.com/data/icons/logotypes/32/twitter-128.png">
		  </a>
	</body>
	<script type="text/javascript">
	function $$(selector, context) {
  var context = context || document;
  var elements = context.querySelectorAll(selector);
  var nodesArr = [].slice.call(elements);
  return nodesArr.length === 1 ? nodesArr[0] : nodesArr;
};

var $emotesArr = $$('.fb-emote');
var numOfEmotes = $emotesArr.length;

var $dragCont = $$('.fb-cont__drag-cont');
var $activeEmote = $$('.fb-active-emote');
var $leftEye = $$('.fb-active-emote__eye--left');
var $rightEye = $$('.fb-active-emote__eye--right');
var $smile = $$('.fb-active-emote__smile');

var emoteColors = {
  terrible: '#f8b696',
  bad: '#f9c686',
  default: '#ffd68c'
}

var animTime = 0.5;

$emotesArr.forEach(function($emote, i) {
  var progressStep = i / (numOfEmotes - 1);
  $emote.dataset.progress = progressStep;
  
  $emote.addEventListener('click', function() {
    var progressTo = +this.dataset.progress;
    var type = this.dataset.emote;
    var $target = document.querySelector('#fb-emote-' + type);
    var $lEye = $target.querySelector('.fb-emote__eye--left');
    var $rEye = $target.querySelector('.fb-emote__eye--right');
    var leftEyeTargetD = $lEye.getAttribute('d');
    var rightEyeTargetD = $rEye.getAttribute('d');
    var smileTargetD = $target.querySelector('.fb-emote__smile').getAttribute('d');
    var bgColor = emoteColors[type];
    if (!bgColor) bgColor = emoteColors.default;
    
    $$('.fb-emote.s--active').classList.remove('s--active');
    this.classList.add('s--active');
    
    TweenMax.to($activeEmote, animTime, {backgroundColor: bgColor});
    TweenMax.to($dragCont, animTime, {x: progressTo * 100 + '%'});
    TweenMax.to($leftEye, animTime, {morphSVG: $lEye});
    TweenMax.to($rightEye, animTime, {morphSVG: $rEye});
    TweenMax.to($smile, animTime, {attr: {d: smileTargetD}});
  });
});

	</script>
</html>